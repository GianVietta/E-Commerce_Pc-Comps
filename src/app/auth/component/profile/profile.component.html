<h3 class="text-center my-4">Perfil</h3>
<div class="container">
  <form [formGroup]="form">
    <div class="row">
      <!-- Nombre -->
      <div class="col-md-6">
        <label for="nameForm" class="form-label">Nombre</label>
        <input 
          type="text" 
          id="nameForm"
          class="form-control" 
          formControlName="name" 
          [ngClass]="{
            'is-invalid': form.controls['name'].touched && form.controls['name'].hasError('required') || form.controls['name'].hasError('minlength')
          }">
        <div *ngIf="form.controls['name'].touched && form.controls['name'].hasError('required')" class="invalid-feedback">
          Campo requerido.
        </div>
        <div *ngIf="form.controls['name'].touched && form.controls['name'].hasError('minlength')" class="invalid-feedback">
          El nombre debe tener mínimo 3 caracteres.
        </div>
      </div>

      <!-- Apellido -->
      <div class="col-md-6">
        <label for="lastNameForm" class="form-label">Apellido</label>
        <input 
          type="text" 
          id="lastNameForm" 
          class="form-control" 
          formControlName="lastName" 
          [ngClass]="{
            'is-invalid': form.controls['lastName'].touched && form.controls['lastName'].hasError('required')
          }">
        <div *ngIf="form.controls['lastName'].touched && form.controls['lastName'].hasError('required')" class="invalid-feedback">
          Campo requerido.
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Teléfono -->
      <div class="col-md-6">
        <label for="phoneNumber" class="form-label">Número de teléfono</label>
        <input 
          type="text" 
          id="phoneNumber" 
          class="form-control" 
          formControlName="phoneNumber" 
          [ngClass]="{
            'is-invalid': form.controls['phoneNumber'].touched && (form.controls['phoneNumber'].hasError('required') || form.controls['phoneNumber'].hasError('pattern'))
          }">
        <div *ngIf="form.controls['phoneNumber'].touched && form.controls['phoneNumber'].hasError('required')" class="invalid-feedback">
          Campo requerido.
        </div>
        <div *ngIf="form.controls['phoneNumber'].touched && form.controls['phoneNumber'].hasError('pattern')" class="invalid-feedback">
          El número debe tener un máximo de 10 dígitos.
        </div>
      </div>

      <!-- Dirección -->
      <div class="col-md-6">
        <label for="address" class="form-label">Dirección</label>
        <input 
          type="text" 
          id="address" 
          class="form-control" 
          formControlName="address" 
          [ngClass]="{
            'is-invalid': form.controls['address'].touched && form.controls['address'].hasError('required')
          }">
        <div *ngIf="form.controls['address'].touched && form.controls['address'].hasError('required')" class="invalid-feedback">
          Campo requerido.
        </div>
      </div>
    </div>

    <div class="row">
      <!-- DNI -->
      <div class="col-md-6">
        <label for="dni" class="form-label">DNI</label>
        <input 
          type="text" 
          id="dni" 
          class="form-control" 
          formControlName="dni" 
          [ngClass]="{
            'is-invalid': form.controls['dni'].touched && (form.controls['dni'].hasError('required') || form.controls['dni'].hasError('pattern'))
          }">
        <div *ngIf="form.controls['dni'].touched && form.controls['dni'].hasError('required')" class="invalid-feedback">
          Campo requerido.
        </div>
        <div *ngIf="form.controls['dni'].touched && form.controls['dni'].hasError('pattern')" class="invalid-feedback">
          Formato inválido.
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-center mt-4 mb-5">
      <button 
        type="button" 
        (click)="toggleEdit()" 
        class="btn btn-warning" 
        *ngIf="!isEditing">
        Modificar
      </button>
      <button 
        type="button" 
        (click)="update()" 
        class="btn btn-success" 
        *ngIf="isEditing">
        Guardar Cambios
      </button>
    </div>
  </form>
</div>